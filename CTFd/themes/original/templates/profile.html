 {% extends "base.html" %}

{% block stylesheets %}
	<style>
	hr {
		margin-top: 0px;
		padding-bottom: 10px;
	}
	.row {
		margin-bottom: 10px;
	}
	</style>
{% endblock %}

{% block content %}
<div class="jumbotron home">
	<div class="container">
		<h1>个人资料</h1>
	</div>
</div>
<div class="container main-container">

	<div class="row">
		<div id="login-container" class="col-md-6 col-md-offset-3">
			{% if success %}
				<div class="alert alert-success alert-dismissable submit-row" role="alert">
					<strong>成功!</strong>
					个人资料已更新!
					<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>
				</div>
			{% else %}
				{% for error in errors %}
				<div class="submit-row">
					<div class="alert alert-danger alert-dismissable" role="alert">
					  <span class="sr-only">Error:</span>
					  {{ error }}
					  <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>
				  </div>
				</div>
				{% endfor %}
			{% endif %}
			{% if confirm_email %}
				<div class="alert alert-info alert-dismissable submit-row" role="alert">
					你的邮箱还未确认，请查看邮件并确认
					<br>
					<br>
					重发验证邮件请<a href="{{ request.script_root }}/confirm">点击此处.</a>
					<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
							aria-hidden="true">×</span></button>
				</div>
			{% endif %}
			<form method="post" accept-charset="utf-8" autocomplete="off" role="form" class="form-horizontal">
				<div class="row">
					<div class="col-md-12">
						<span class="input">
							<input class="input-field" type="text" name="name" id="name-input" value="{{name}}"/>
							<label class="input-label" for="name-input">
								<span class="label-content" data-content="Team Name">队伍名称</span>
							</label>
						</span>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<span class="input">
							<input class="input-field" type="text" name="email" id="email-input" value="{{email}}"/>
							<label class="input-label" for="email-input">
								<span class="label-content" data-content="Email">邮箱</span>
							</label>
						</span>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<span class="input">
							<input class="input-field" type="password" name="confirm" id="confirm-input" />
							<label class="input-label" for="confirm-input">
								<span class="label-content" data-content="Password">当前密码</span>
							</label>
						</span>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<span class="input">
							<input class="input-field" type="password" name="password" id="password-input" />
							<label class="input-label" for="password-input">
								<span class="label-content" data-content="New Password">新密码</span>
							</label>
						</span>
					</div>
				</div>
				<hr />
				<div class="row">
					<div class="col-md-12">
						<span class="input">
							<input class="input-field" type="text" name="affiliation" id="affiliation-input" value="{% if affiliation %}{{affiliation}}{% endif %}" />
							<label class="input-label" for="affiliation-input">
								<span class="label-content" data-content="Affiliation">附属单位(非必填)</span>
							</label>
						</span>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<span class="input">
							<input class="input-field" type="text" name="website" id="website-input" value="{% if website %}{{website}}{% endif %}" />
							<label class="input-label" for="website-input">
								<span class="label-content" data-content="Website">网站(非必填)</span>
							</label>
						</span>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<span class="input">
							<input class="input-field" type="text" name="country" id="country-input" value="{% if country %}{{country}}{% endif %}" />
							<label class="input-label" for="country-input">
								<span class="label-content" data-content="Country">城市(非必填)</span>
							</label>
						</span>
					</div>
				</div>
				<div class="row">
					<div class="submit-row">
						<button type="submit" id="submit" tabindex="5" class="btn btn-md btn-primary btn-theme btn-outlined pull-right">提交</button>
					</div>
				</div>
				<input type="hidden" name="nonce" value="{{ nonce }}">
			</form>
		</div>
	</div>
</div>
{% endblock %}

{% block scripts %}
	<script src="{{ request.script_root }}/themes/{{ ctf_theme() }}/static/js/style.js"></script>
{% endblock %}
